obj_improve_combat_ability = {
	type = character
	
	potential = {	
		is_playable = yes		
		NOT = { has_character_flag = obj_improve_combat_ability }
	}
	
	allow = {
		is_adult = yes
		NOT = {
			OR = {
				trait = dueling_novice
				trait = dueling_adept
				trait = dueling_skilled
				trait = dueling_expert
				trait = dueling_master
				trait = dueling_legend
			}
		}
		NOT = { trait = incapable }
		NOT = { trait = infirm }
		prisoner = no
		NOT = {is_weak_trigger = yes}
		NOT = { age = 50 }		
		OR = {
			is_female = no
			culture_group = dornish
		}	
	}
	chance = {
		factor = 100
		modifier = {
			factor = 0.5
			is_female = yes
		}
		modifier = {
			factor = 1.25
			trait = diligent
		}
		modifier = {
			factor = 1.5
			trait = ambitious
		}
		modifier = {
			factor = 1.5
			is_strong_trigger = yes
		}
		modifier = {
			factor = 1.5
			trait = proud
		}
		modifier = {
			factor = 0.01
			trait = content
		}
		modifier = {
			factor = 0.01
			trait = slothful
		}
		modifier = {
			factor = 0.25
			trait = humble
		}
		modifier = {
			factor = 0.25
			trait = craven
		}
		modifier = {
			factor = 4.0
			trait = duelist
		}	
		modifier = {
			factor = 1.5
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
	}
	success = {
		OR = {
				trait = dueling_novice
				trait = dueling_adept
				trait = dueling_skilled
				trait = dueling_expert
				trait = dueling_master
				trait = dueling_legend
		}
	}
	abort = {
		OR = {
			has_character_flag = abort_obj
			trait = incapable
			trait = infirm
			age = 50
		}
	}
	abort_effect = {
		clr_character_flag = abort_obj
		clr_character_flag = obj_check
	}
	effect = {
		prestige = 50
		set_character_flag = obj_improve_combat_ability
	}
}