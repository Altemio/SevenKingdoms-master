# The choice is made based on a weighted random, but the first factor that evaluates to >= 100 will be automatically chosen
# Two passes are done when choosing properties; first from lowest to highest, then from highest to lowest. Be aware of this if you reference other properties, as the old properties will still be active in the first pass
# hide_layers is interpreted from bottom to top. Hidden layers won't hide other layers, but if a lower layer hides a higher layer, the higher layer won't be rechecked, so it might still be hiding other layers despite being hidden itself

# p0 background
0 = {
	0 = { # castle 1
		factor = 1
		modifier = {
			factor = 2
			location = {
				region = world_westeros
			}
		}
		modifier = {
			factor = 0
			location = {
				NOR = {
					location= { region = world_westeros }
					AND = {
						region = world_braavos 
						location = { culture_group = andal }
					}
				}
			}
		}
		modifier = {
			factor = 5
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
			}
			NOT = { is_theocracy = yes }
			NOT = { government = theocracy_government }
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			NOR = {
				is_feudal = yes
				is_theocracy = yes
				is_republic = yes
				AND = {
					liege = {
						OR = {
							is_feudal = yes
							is_theocracy = yes
							is_republic = yes
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			liege = {
				OR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			OR = {
				is_landed = no
				AND = {
					is_landed = yes
					has_job_title = yes
				}
			}
		}
	}

	1 = { #throne room
		factor = 30
		modifier = {
			factor = 0
			OR = {
				location = { culture_group = valyrian }
				location = { culture_group = dornish }
			}	
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			#location = {
			#	NOT = {
			#		holding_type = castle
			#	}
			#}
			NOT = {
				is_feudal = yes
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			trait = in_hiding
		}
		modifier = {
			factor = 0
			liege = {
				OR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			has_job_title = yes
		}
	}

	2 = { # dungeon
		factor = 100
		modifier = {
			factor = 0
			is_alive = yes
			OR = {
				prisoner = no
				AND = {
					prisoner = yes
					has_character_modifier = house_arrest
				}
			}
		}
		modifier = {
			factor = 0
			is_alive = no
			NOR = {
				death_reason = death_dungeon
				death_execution_trigger = yes
				death_sacrificed_trigger = yes
			}
		}
		modifier = {
			factor = 0
			trait = saint
			has_global_flag = EMF
		}
		modifier = {
			factor = 0
			NOT = { has_global_flag = EMF }
			is_alive = no
			OR = {
				has_nickname = nick_the_saint
				has_nickname = nick_the_martyr
				has_nickname = nick_the_apostle
				
			}
		}
	}

	3 = { # forest
				factor = 1
		modifier = {
			factor = 0
			location = {
				NOR = {
					region = world_westeros_north_south
					region = world_essos
				}
			}
		}
		modifier = {
			factor = 0
			location = {
				OR = {
					terrain = marsh
					terrain = desert
					terrain = arctic
					terrain = plains
					terrain = steppe
				}
			}
		}
		modifier = {
			factor = 2
			location = {
				OR = {
					terrain = woods
					terrain = forest
				}
			}
		}
		modifier = {
			factor = 0
			siege = { is_attacker = no }
		}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
		#modifier = {
		#	factor = 0.01
		#	is_feudal = no
		#	is_theocracy = no
		#	is_republic = no
		#	location = {
		#		any_province_holding = {
		#			holding_type = nomad
		#		}
		#	}
		#}
		#modifier = {
		#	factor = 2
		#	is_tribal = yes
		#}
	}

	4 = { # bed
		factor = 100
		modifier = {
			factor = 0
			is_alive = yes
			NOR = {
				trait = incapable
				AND = {
					trait = infirm
					prisoner = no
				}
				AND = {
					prisoner = yes
					has_character_modifier = house_arrest
				}
			}
		}
		modifier = {
			factor = 0
			in_command = yes
		}
		modifier = {
			factor = 0
			OR = {
				death_sacrificed_trigger = yes
				death_reason = death_battle
				death_execution_trigger = yes
				death_reason = death_dungeon
			}
		}
		#modifier = {
		#	factor = 0
		#	trait = infirm
		#	prisoner = yes
		#}
		modifier = {
			factor = 0
			trait = saint
			has_global_flag = EMF
		}
		modifier = {
			factor = 0
			NOT = { has_global_flag = EMF }
			is_alive = no
			OR = {
				has_nickname = nick_the_saint
				has_nickname = nick_the_martyr
				has_nickname = nick_the_apostle
				
			}
		}
	}
	
	5 = { # tavern
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				OR = {
					trait = drunkard
					trait = hedonist
					trait = lustful
				}
			}
		}
		modifier = {
			factor = 0
			is_tribal = yes
		}
	}
	
	6 = { # military camp
		factor = 100
		modifier = {
			factor = 0
			OR = {
				AND = {
					is_alive = yes
					#in_command = no
					NOT = { siege = { is_attacker = yes } }
					#NOT = { has_job_title  = job_marshal }
				}
				AND = {
					is_alive = no
					NOT = { death_reason = death_battle }
				}
			}
		}
		modifier = {
			factor = 0
			trait = saint
			has_global_flag = EMF
		}
		modifier = {
			factor = 0
			NOT = { has_global_flag = EMF }
			is_alive = no
			OR = {
				has_nickname = nick_the_saint
				has_nickname = nick_the_martyr
				has_nickname = nick_the_apostle
				
			}
		}
		#modifier = {
		#	factor = 0
		#	OR = {
		#		is_nomadic = yes
		#		AND = {
		#			liege = { is_nomadic = yes }
		#			is_landed = no
		#		}
		#	}
		#	war = no
		#}
		#modifier = {
		#	factor = 0.02
		#	in_command = no
		#	has_job_title = job_marshal
		#}
	}
	
	7 = { # Wildling Encampement (former Dolmen)
		factor = 1
		modifier = {
			factor = 1.5
			is_tribal = yes
		}
		modifier = {
			factor = 5
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
				AND = {
					liege = {
						OR = {
							is_tribal = yes
							is_nomadic = yes
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
				AND = {
					is_theocracy = yes
					OR = {
						religion = old_gods_beyond
						religion = old_gods_beyond_white
					}
				}
				AND = {
					liege = {
						is_theocracy = yes
						OR = {
							religion = old_gods_beyond
							religion = old_gods_beyond_white
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
	}
	
	8 = { # Gallows
		factor = 5
		modifier = {
			factor = 0
			NOT = { trait = cruel }
			NOT = { trait = impaler }
			NOT = { death_execution_trigger = yes }
		}
		modifier = {
			factor = 1.7
			OR = {
				trait = impaler
				death_execution_trigger = yes
			}
		}
	}
	
	9 = { # Church
		factor = 1
		modifier = {
			factor = 0
			NOT = { religion_group = the_seven_group }
		}
		#modifier = {
		#	factor = 0
		#	is_landed = no
		#}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				is_tribal = yes
				AND = {
					liege = {
						OR = {
							is_nomadic = yes
							is_tribal = yes
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = septon
				trait = septa
				trait = silent_sister
				trait = theologian
				is_priest = yes
			}
		}
		modifier = {
			factor = 10
			government = theocracy_government
			is_landed = yes
		}
		#modifier = {
		#	factor = 3
		#	liege = { is_theocracy = yes }
		#	OR = {
		#		is_landed = no
		#		AND = {
		#			is_landed = yes
		#			has_job_title = yes
		#		}
		#	}
		#}
	}
	
	10 = { # Desert
		factor = 1
		modifier = {
			factor = 0
			location = { NOT = { region = world_dorne } }
			location = { NOT = { terrain = desert } }
		}
		modifier = {
			factor = 2
			location = { terrain = desert }
		}
		modifier = {
			factor = 0
			location = { terrain = marsh }
		}
		modifier = {
			factor = 0
			siege = { is_attacker = no }
		}
		modifier = {
			factor = 5
			OR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		#modifier = {
		#	factor = 10
		#	OR = {
		#		trait = desert_father
		#		trait = desert_mother
		#	}
		#}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
	}
	
	11 = { # Steppe
		factor = 1
		modifier = {
			factor = 0
			NOT = { culture_group = dornish }
		}
		
		modifier = {
			factor = 10
			culture_group = dothraki_group
		}
		modifier = {
			factor = 10
			is_nomadic = yes
		}
	}
	
	12 = { # Ocean w ships
		factor = 1
		modifier = {
			factor = 0
			culture_group = iron_islander
		}
		modifier = {
			factor = 0
			location = {
				NOR = {
					port = yes
					is_land = no
					NOT = { region = world_beyond_the_wall }
				}
			}
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			is_alive = no
		}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
	}
	
	13 = { # Ocean w ships for Ironborn (former Muslim interior)
		factor = 1
		modifier = {
			factor = 0
			NOT = { culture_group = iron_islander }
		}
		modifier = {
			factor = 2.5
			culture_group = iron_islander
		}
		modifier = {
			factor = 0
			location = {
				NOR = {
					port = yes
					is_land = no
				}
			}
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			is_alive = no
		}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
	}
	
	14 = { # Harem
		factor = 1
		modifier = {
			factor = 0
			NOT = { religion_group = valyrian_group }
			NOT = { religion_group = eastern_group }
		}
		modifier = {
			factor = 100
			OR = {
				trait = lustful
				trait = hedonist
			}
		}
	}
	
	15 = { # Dornish throne room (former Muslim interior 2)
		factor = 30
		modifier = {
			factor = 0
			NOT = { location = { culture_group = dornish } }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			#location = {
			#	NOT = {
			#		holding_type = castle
			#	}
			#}
			NOT = {
				is_feudal = yes
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			trait = in_hiding
		}
		modifier = {
			factor = 0
			liege = {
				OR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			has_job_title = yes
		}
	}

	16 = { # Mongol camp 1
		factor = 2
		modifier = {
			factor = 0
			NOR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			NOT = { siege = { is_attacker = no } }
			location = {
				OR = {
				#	terrain = arctic
					terrain = mountain
					terrain = desert
				#	terrain = jungle
				#	terrain = marsh
				}
			}
		}
		modifier = {
			factor = 0
			location = {
				region = world_africa
			}
		}
		modifier = {
			factor = 5
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
				AND = {
					liege = { is_nomadic = yes }
					has_job_title = yes
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					is_ruler = no
				}
			}
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					is_ruler = no
				}
			}
			war = yes
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
	}

	17 = { # Tribal Interior (former Mongol camp 2)
		factor = 1
		modifier = {
			factor = 2
			is_tribal = yes
		}
		modifier = {
			factor = 5
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
			}
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
				AND = {
					liege = {
						OR = {
							is_tribal = yes
							is_nomadic = yes
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
				AND = {
					is_theocracy = yes
					OR = {
						religion = old_gods_beyond
						religion = old_gods_beyond_white
					}
				}
				AND = {
					liege = {
						is_theocracy = yes
						OR = {
							religion = old_gods_beyond
							religion = old_gods_beyond_white
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
	}

	18 = { # High Septon palace
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_landed_title = k_papal_state }
			NOT = { has_claim = k_papal_state }
		}
	}

	19 = { # "Meadow" (former Muslim mosque)
		factor = 1
		modifier = {
			factor = 0
			location = {
				NOR = {
					region = world_the_reach
					region = world_the_riverlands
					region = world_the_blackwater
				}
			}
		}
		modifier = {
			factor = 0
			location = {
				OR = {
					terrain = arctic
					terrain = desert
					terrain = steppe
					terrain = mountain
				}
			}
		}
		modifier = {
			factor = 2
			location = {
				OR = {
					terrain = plains
					terrain = woods
				}
			}
		}
		modifier = {
			factor = 0
			siege = { is_attacker = no }
		}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
	}

	20 = { # Weirwoodtree
		factor = 75
		modifier = {
			factor = 0
			NOR = { 
				religion = old_gods
				religion = old_gods_beyond
				religion = old_gods_beyond_white
			}
		}
		modifier = {
			factor = 0
			is_priest = no
		}
	}
	
	21 = { # Valyrian Hall
		factor = 2
		modifier = {
			factor = 0
			location = { NOT = { region = world_essos } }
		}
		#modifier = {
		#	factor = 0.5
		#	NOT = { culture_group = valyrian }
		#}
		modifier = {
			factor = 2
			location = { culture_group = valyrian }
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
			}
		}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
	}
	
	22 = { # Valyrian Estate Interior
		factor = 1
		modifier = {
			factor = 2
			location = {
				region = world_essos
			}
		}
		modifier = {
			factor = 0
			location = {
				NAND = {
					location= { region = world_essos }
					location = { culture_group = valyrian }
				}
			}
		}
		modifier = {
			factor = 5
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
			}
			NOT = { is_theocracy = yes }
			NOT = { government = theocracy_government }
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			NOR = {
				is_feudal = yes
				is_theocracy = yes
				is_republic = yes
				AND = {
					liege = {
						OR = {
							is_feudal = yes
							is_theocracy = yes
							is_republic = yes
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			liege = {
				OR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			OR = {
				is_landed = no
				AND = {
					is_landed = yes
					has_job_title = yes
				}
			}
		}
	}
	
	23 = { # Valyrian Estate Interior
		factor = 1
		modifier = {
			factor = 2
			location = {
				region = world_essos
			}
		}
		modifier = {
			factor = 0
			location = {
				NAND = {
					location= { region = world_essos }
					location = { culture_group = valyrian }
				}
			}
		}
		modifier = {
			factor = 5
			OR = {
				is_landed = yes
				spouse = { is_landed = yes }
				AND = {
					liege = { family = ROOT }
					is_landed = no
				}
			}
			NOT = { is_theocracy = yes }
			NOT = { government = theocracy_government }
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
		}
		modifier = {
			factor = 0
			NOR = {
				is_feudal = yes
				is_theocracy = yes
				is_republic = yes
				AND = {
					liege = {
						OR = {
							is_feudal = yes
							is_theocracy = yes
							is_republic = yes
						}
					}
					OR = {
						is_landed = no
						AND = {
							is_landed = yes
							has_job_title = yes
						}
					}
				}
			}
		}
		modifier = {
			factor = 0
			liege = {
				OR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			OR = {
				is_landed = no
				AND = {
					is_landed = yes
					has_job_title = yes
				}
			}
		}
	}
	
	24 = { # Winter Forest (Winterwald)
		factor = 2
		modifier = {
			factor = 0
			location = {
				NOT	= { region = world_beyond_the_wall }
			}
		}
		modifier = {
			factor = 2
			location = {
				region = world_beyond_the_wall
			}
		}
		modifier = {
			factor = 1.5
			location = { terrain = arctic }
		}
		modifier = {
			factor = 0
			location = {
				OR = {
					region = world_steppe_tarim
					terrain = steppe
					terrain = plains
					terrain = farmlands
					terrain = desert
				}
			}
		}
		modifier = {
			factor = 0
			siege = { is_attacker = no }
		}
		modifier = {
			factor = 0
			has_character_modifier = in_seclusion
		}
	}
	
	25 = { # Valyrian throne room
		factor = 30
		modifier = {
			factor = 0
			NOT = { location = { culture_group = valyrian } }
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			in_command = yes
			NOT = { siege = { is_attacker = no } }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			#location = {
			#	NOT = {
			#		holding_type = castle
			#	}
			#}
			NOT = {
				is_feudal = yes
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			trait = in_hiding
		}
		modifier = {
			factor = 0
			liege = {
				OR = {
					is_tribal = yes
					is_nomadic = yes
				}
			}
			has_job_title = yes
		}
	}
	
	26 = { # Faceless Men catacombs		so far unused would work great with a society
		factor = 0
		#modifier = {
		#	factor = 0
		#	NOT = { religion = faceless_men }
		#}
		#modifier = {
		#	factor = 0
		#	NOT = { location = c_braavos }
		#}
		#modifier = {
		#	factor = 0
		#	is_landed = no
		#}
		#modifier = {
		#	factor = 0
		#	in_command = yes
		#	NOT = { siege = { is_attacker = no } }
		#}
		#modifier = {
		#	factor = 0
		#	OR = {
		#		is_nomadic = yes
		#		is_tribal = yes
		#		AND = {
		#			liege = {
		#				OR = {
		#					is_nomadic = yes
		#					is_tribal = yes
		#				}
		#			}
		#			OR = {
		#				is_landed = no
		#				AND = {
		#					is_landed = yes
		#					has_job_title = yes
		#				}
		#			}
		#		}
		#	}
		#}
		#modifier = {
		#	factor = 2
		#		is_priest = yes
		#}
		#modifier = {
		#	factor = 10
		#	government = theocracy_government
		#	is_landed = yes
		#}
		#modifier = {
		#	factor = 3
		#	liege = { is_theocracy = yes }
		#	OR = {
		#		is_landed = no
		#		AND = {
		#			is_landed = yes
		#			has_job_title = yes
		#		}
		#	}
		#}
	}
}

# p1 hair  --- WARNING! Property 1 MUST be Hair, otherwise the hair hiding helmets wont work ---
1 = {
	0 = { # Completely bald
		factor = 1
		modifier = {
			factor = 0.1
			is_female = no
			NOT = {
				age = 50
			}
		}
		modifier = {
			factor = 0.1
			is_female = yes
		}
	}
	1 = { # Black Adder
		factor = 1
	}
	2 = { # Page
		factor = 1
	}

	3 = { # Synth
		factor = 1
	}

	4 = { # Long Straight
		factor = 1
	}

	5 = { # Long Curly
		factor = 1
	}
	6 = {  
		factor = 1
	}
	7 = {  # Short
		factor = 1
	}
	8 = { # Short Curly
		factor = 1
	}
	9 = {  # Short Uncouth
		factor = 1
	}
	10 = {  # Long Uncouth
		factor = 1
	}
	11 = { # Balding
		factor = 1
		modifier = {
			factor = 0.1
			is_female = no
			NOT = {
				age = 50
			}
		}
	}
	12 = { 
		factor = 1
	}
	
	13 = {
		factor = 1
	}
	
	14 = { 
		factor = 1
	}
	
	15 = { 
		factor = 1
	}
	16 = { # New Short
		factor = 1
	}
	17 = { # New Long
		factor = 1
	}
	18 = { # Short Mullet
		factor = 1
	}
	19 = { # Longer Mullet
		factor = 1
	}
	20 = { # Long Curly
		factor = 1
	}
}

# p2 base
2 = {
}

# p3 clothes
3 = {
	
	0 = { # Royal clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	1 = { # Royal clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	2 = { # Royal clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { has_minor_title = title_prince }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
	}
	
	3 = { # Noble clothes 1
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	4 = { # Noble clothes 2
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	5 = { # Noble clothes 3
		factor = 1
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
		modifier = {
			factor = 0
			NOT = { real_tier = duke }
			NOT = { real_tier = count }
			NOT = { real_tier = baron }
			NOT = { spouse = { real_tier = duke } }
			NOT = { spouse = { real_tier = count } }
			NOT = { spouse = { real_tier = baron } }
			NOT = { has_minor_title = title_prince }
		}
	}
	
	6 = { # Modest clothes 1
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = {
			factor = 10
			is_ruler = yes
			is_theocracy = yes
			religion_group = drowned_god_group
		}
	}
	7 = { # Modest clothes 2
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	
	8 = { # Modest clothes 3
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	9 = { # Shady clothes
		factor = 3
		modifier = {
			factor = 0
			OR = {
				real_tier = king
				real_tier = emperor
				AND = {
					real_tier = duke
					any_demesne_title = {
						real_tier = baron
					}
				}
				spouse = { real_tier = king }
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0
			NOT = { has_job_title = job_spymaster }
			OR = {
				real_tier = duke
				NOT = { intrigue = 10 }
			}
		}
	}
	
	# Martial
	10 = {
		factor = 100
		modifier = {
			factor = 0
			in_command = no
			NOT = { has_job_title  = job_marshal }
			NOT = {
				primary_title = {
					OR = {
						mercenary = yes
						holy_order = yes
					}
				}
			}
		}
		modifier = {
			factor = 0
			OR = {
				higher_real_tier_than = duke
				spouse = { higher_real_tier_than = duke }
			}
			in_command = no
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					is_ruler = no
				}
			}
			war = no
			NOR = {
				siege = { is_attacker = yes }
				has_job_title  = job_marshal
			}
		}
	}
	
	# Ragged prison clothes
	11 = {
		factor = 100
		modifier = {
			factor = 0
			prisoner = no
		}
	}
}

# p4 beard
4 = {
	0 = {
		factor = 1
	}
	1 = {
		factor = 1
	}
	2 = {
		factor = 1
	}
	3 = {
		factor = 1
	}
	4 = {
		factor = 1
	}
	5 = {
		factor = 1
	}
	6 = {
		factor = 1
	}
	7 = {
		factor = 1
	}
	8 = {
		factor = 1
	}
	9 = {
		factor = 1
	}
	10 = {
		factor = 1
	}
	11 = {
		factor = 1
	}
	12 = {
		factor = 1
	}
	13 = {
		factor = 1
	}
	14 = {
		factor = 1
	}
}

# p5 headgear
5 = {
	# Imperial crown/Chaliph turban
	0 = {
		factor = 100
		modifier = {
			factor = 0
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			is_feudal = no
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
			NOT = { is_offmap_tag_including_dead = offmap_china }
		}
       modifier = {
			factor = 0
            cant_wear_crown_trigger = yes
        }
		modifier = {
			factor = 0
			trait = in_hiding
		}
		modifier = {
			factor = 0
			primary_title = { title = e_valyrian_freehold } 
		}
	}
	
	# Royal crown/turban 1
	1 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_feudal = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
        modifier = {
			factor = 0
            cant_wear_crown_trigger = yes
        }
		modifier = {
			factor = 0
            independent = no
        }
		modifier = {
			factor = 0
			OR = { 
				primary_title = { title = k_the_eastmarch }
				primary_title = { title = k_talltrees }
				primary_title = { title = k_the_white_knife }
				primary_title = { title = k_the_nights_watch }
			}
        }
	}

	# Royal crown/turban 2
	2 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_feudal = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
        modifier = {
			factor = 0
            cant_wear_crown_trigger = yes
        }
		modifier = {
			factor = 0
            independent = no
        }
		modifier = {
			factor = 0
			OR = { 
				primary_title = { title = k_the_eastmarch }
				primary_title = { title = k_talltrees }
				primary_title = { title = k_the_white_knife }
				primary_title = { title = k_the_nights_watch }
			}
        }
	}

	# Royal crown/turban 3
	3 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { real_tier = king }
			NOT = { spouse = { real_tier = king } }
		}
		modifier = {
			factor = 0
			is_feudal = no
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
        modifier = {
			factor = 0
            cant_wear_crown_trigger = yes
        }
		modifier = {
			factor = 0
            independent = no
        }
		modifier = {
			factor = 0
			OR = { 
				primary_title = { title = k_the_eastmarch }
				primary_title = { title = k_talltrees }
				primary_title = { title = k_the_white_knife }
				primary_title = { title = k_the_nights_watch }
			}
        }
	}

	# Simple golden band/turban
	4 = {
		factor = 1
		modifier = {
			factor = 1000
			OR = { 
				AND = { 
					real_tier = emperor 
					trait = humble
				}
				AND = {
					real_tier = king
					trait = humble
				}
			}	
		}
		modifier = {
			factor = 0
			is_feudal = yes
			OR = {
				real_tier = duke 
				spouse = { real_tier = duke } 
				has_minor_title = title_prince 
			}
		}
		modifier = {
			factor = 0
			is_republic = yes
			NOT = { real_tier = duke }
			NOT = { real_tier = king }
			NOT = { real_tier = emperor }
			NOT = { spouse = { real_tier = emperor } }
			NOT = { spouse = { real_tier = king } }
			NOT = { spouse = { real_tier = duke } }
		}
		modifier = {
			factor = 0
			OR = {
				trait = peasant_leader
				trait = heresiarch
			}
		}
	}

	# Common headgear 1 - hood
	5 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
		modifier = {
			factor = 10
			is_ruler = yes
			is_theocracy = yes
			religion_group = drowned_god_group
		}
	}
	
	# Common headgear 2 - hood
	6 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}

	# Common headgear 3 - Red hat
	7 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}
	
	# Common headgear 4 - hood
	8 = {
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = peasant_leader }
			NOT = { trait = heresiarch }
			OR = {
				is_or_was_offmap_power_ruler = yes
				is_ruler = yes
				has_minor_title = title_prince
				spouse = { real_tier = emperor }
				spouse = { real_tier = king }
				spouse = { real_tier = duke }
			}
		}
	}

	# Shady headgear
	9 = {
		factor = 3
		modifier = {
			factor = 0
			OR = {
				real_tier = king
				real_tier = emperor
				AND = {
					real_tier = duke
					any_demesne_title = {
						real_tier = baron
					}
				}
				spouse = { real_tier = king }
				spouse = { real_tier = emperor }
			}
		}
		modifier = {
			factor = 0
			NOT = { has_job_title = job_spymaster }
			OR = {
				real_tier = duke
				NOT = { intrigue = 10 }
			}
		}
	}

	# Martial headgear
	10 = {
		factor = 100
		modifier = {
			factor = 0
			in_command = no
			NOT = { has_job_title  = job_marshal }
			NOT = {
				primary_title = {
					OR = {
						mercenary = yes
						holy_order = yes
					}
				}
			}
		}
		modifier = {
			factor = 0
			OR = {
				higher_real_tier_than = duke
				spouse = { higher_real_tier_than = duke }
			}
			in_command = no
		}
		modifier = {
			factor = 0
			OR = {
				is_nomadic = yes
				AND = {
					liege = { is_nomadic = yes }
					is_ruler = no
				}
			}
			war = no
			NOR = {
				siege = { is_attacker = yes }
				has_job_title  = job_marshal
			}
		}
	}

	# Blank
	11 = {
		factor = 3	
		modifier = {
			factor = 100	
			OR = {
				prisoner = yes
				AND = {
					in_command = no
					OR =  {
						has_job_title  = job_marshal
						primary_title = { OR = { mercenary = yes holy_order = yes } }
					}
				}
			}
		}
		modifier = {
			factor = 100
            cant_wear_crown_trigger = yes
        }
		modifier = {
			factor = 0
			AND = {
				independent  = yes
				real_tier = king
			}
        }
		modifier = {
			factor = 100
			OR = { 
				primary_title = { title = k_the_eastmarch }
				primary_title = { title = k_talltrees }
				primary_title = { title = k_the_white_knife }
				primary_title = { title = k_the_nights_watch }
			}
        }
	}
}

# p6 imprisoned
6 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			prisoner = yes
		}
	}

	1 = { # prisoner
		factor = 100
		modifier = {
			factor = 0
			prisoner = no
		}
	}
}

# p7 scars - Tier I
7 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = scarred
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	2 = { # scar 2 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	3 = { # scar 3 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}

	4 = { # scar 4 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	5 = { # scar 5 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	6 = { # scar 6 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	7 = { # scar 7 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	8 = { # scar 8 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	9 = { # scar 9 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
	10 = { # scar 10 - TIER I
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred_mid
				trait = scarred_high
				NOT = { trait = scarred }
			}
		}
   	}
}

# p8 red dots
8 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = has_measles
				trait = has_small_pox
			}
		}
 	}

	1 = { # red dots
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = {
					trait = has_measles
					trait = has_small_pox
				}
			}
		}
  	}
}

# p9 boils
9 = {

	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = has_bubonic_plague
			}
		}
 	}

	1 = { # boils
		factor = 100
		modifier = {
			factor = 0
			OR = {
				NOT = {
					trait = has_bubonic_plague
				}
			}
		}
 	}
 	
}

# p10 blinded
10 = {
	0 = {
		factor = 100
		modifier = {
			factor = 0
			trait = blinded
		}
	}
	
	1 =  {
		factor = 100
		modifier = {
			factor = 0
			NOT = {
				trait = blinded
			}
		}
	}
}

# p11 player
11 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			AND = {
				ai = no
				multiplayer = yes
			}
		}
	}

	1 = { # player
		factor = 100
		modifier = {
			factor = 0
			OR = {
				ai = yes
				multiplayer = no
			}
		}
	}
}

# p12 mask for the disfigured
12 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = disfigured 
				has_character_modifier = attending_masquerade
				has_character_modifier = forced_mask
			}
		}
	}

	1 = { # mask 1 bone
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					OR = { 
						trait = disfigured 
						has_character_modifier = attending_masquerade
						has_character_modifier = forced_mask
					}
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = westerosi_pagan_group
							religion_group = eastern_pagan_group
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}

	2 = { # mask 2 silver
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = westerosi_pagan_group
					religion_group = eastern_pagan_group
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			culture = dothraki
		}
	}

	3 = { # mask 3 iron
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = yes
					higher_tier_than = DUKE
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { higher_tier_than = DUKE }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = westerosi_pagan_group
					religion_group = eastern_pagan_group
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	4 = { # mask 4 bone - blue stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = westerosi_pagan_group
							religion_group = eastern_pagan_group
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	5 = { # mask 5 bone - orange stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = westerosi_pagan_group
							religion_group = eastern_pagan_group
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	6 = { # mask 6 bone - red dots
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		# modifier = {
			# factor = 0
			# NOR = {
				# religion = west_african_pagan
				# religion = west_african_pagan_reformed
				# culture = manden
				# culture_group = east_african
			# }
		# }
	}
	
	7 = { # mask 7 bone - black stripes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
					}
				}
				has_character_modifier = golden_mask
			}
		}
		modifier = {
			factor = 0
			NOR = {
				is_tribal = yes
				is_nomadic = yes
			}
		}
		# modifier = {
			# factor = 0
			# NOR = {
				# religion = west_african_pagan
				# religion = west_african_pagan_reformed
				# culture = manden
				# culture_group = east_african
			# }
		# }
	}
	
	8 = { # mask 8 bone - red stripes/eyes
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = westerosi_pagan_group
							religion_group = eastern_pagan_group
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	9 = { # mask 9 bone - black eyes/lightning
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					trait = disfigured
					NOR = {
						is_tribal = yes
						is_nomadic = yes
						OR = {
							religion_group = westerosi_pagan_group
							religion_group = eastern_pagan_group
						}
					}
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	10 = { # mask 10 - decorated silver
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = westerosi_pagan_group
					religion_group = eastern_pagan_group
				}
				has_character_modifier = golden_mask
			}
		}
		# modifier = {
			# factor = 0
			# OR = {
				# culture = manden
				# culture = maghreb_arabic
			# }
		# }
	}
	
	11 = { # mask 11 - decorated gold
		factor = 2
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				is_tribal = yes
				is_nomadic = yes
				OR = {
					religion_group = westerosi_pagan_group
					religion_group = eastern_pagan_group
				}
			}
			NOT = { has_character_modifier = golden_mask }
		}
		modifier = {
			factor = 0
			NOR = {
				trait = greedy
				trait = proud
				trait = ambitious
				trait = envious
				# culture = manden
				# culture = maghreb_arabic
			}
			NOT = { has_character_modifier = golden_mask }
		}
		modifier = {
			factor = 5
			has_landed_title = k_papal_state
		}
		modifier = {
			factor = 1000
			has_character_modifier = golden_mask
		}
	}
	
	12 = { # mask 12 - full mask 1 leather
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				OR = {
					religion_group = westerosi_pagan_group
					religion_group = eastern_pagan_group
				}
				has_character_modifier = golden_mask
			}
		}
	}
	
	13 = { # mask 13 - full mask 2 bone
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOR = { 
					trait = disfigured 
					has_character_modifier = attending_masquerade
					has_character_modifier = forced_mask
				}
				AND = {
					is_landed = no
					is_married = no
				}
				AND = {
					is_landed = yes
					NOT = { higher_real_tier_than = DUKE }
				}
				AND = {
					is_landed = no
					is_married = yes
					spouse = { NOT = { higher_real_tier_than = DUKE } }
				}
				OR = {
					religion_group = westerosi_pagan_group
					religion_group = eastern_pagan_group
				}
				has_character_modifier = golden_mask
			}
		}
	}
}

# p13 eyepatch for one_eyed
13 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = one_eyed
			NOT = { has_character_modifier = glass_eye }
		}
	}

	1 = { # eyepatch 1
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	2 = { # eyepatch 2 - red leather
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	3 = { # eyepatch 3 - painted eye
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					OR = {
						trait = paranoid
						trait = possessed
					}
				}
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = paranoid
				trait = possessed
			}
		}
	}
	
	4 = { # eyepatch 4 - red
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	5 = { # eyepatch 5 - white rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 3
			AND = {
				religion = catholic
				is_theocracy = yes
			}
		}
	}
	
	6 = { # eyepatch 6 - blue rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		# modifier = {
			# factor = 2
			# OR = {
				# religion = tengri_pagan
				# religion = tengri_pagan_reformed
			# }
		# }
	}
	
	7 = { # eyepatch 7 - green rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			religion_group = eastern_group
		}
	}
	
	8 = { # eyepatch 8 - red rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NOT = { trait = one_eyed }
				has_character_modifier = glass_eye
			}
		}
	}
	
	9 = { # eyepatch 9 - bloodied rag
		factor = 1
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					OR = {
						trait = wroth
						trait = cruel
						has_minor_title = title_commander
					}
				}
				has_character_modifier = glass_eye
			}
		}
		modifier = {
			factor = 2
			OR = {
				trait = wroth
				trait = cruel
				has_minor_title = title_commander
			}
		}
		modifier = {
			factor = 2
			martial = 12
		}
	}
	
	10 = { # eyepatch 10 - tartan rag
		factor = 3
		modifier = {
			factor = 0
			OR = {
				NAND = {
					trait = one_eyed
					culture_group = first_men
				}
				has_character_modifier = glass_eye
			}
		}
	}
	
	11 = { # eyepatch 11 - scarred eye 1
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = one_eyed }
		}
		modifier = {
			factor = 0
			trait = shy
		}
		modifier = {
			factor = 4
			OR = {
				is_tribal = yes
				is_nomadic = yes
				trait = stubborn
			}
		}
	}
	
	12 = { # eyepatch 12 - scarred eye 2
		factor = 1
		modifier = {
			factor = 0
			NOT = { trait = one_eyed }
		}
		modifier = {
			factor = 0
			trait = shy
		}
		modifier = {
			factor = 4
			OR = {
				is_tribal = yes
				is_nomadic = yes
				trait = stubborn
			}
		}
	}
}

# p14 chinese makeup
14 = {
	0 = { # blank
		factor = 100
	}
}

# p15 chinese makeup 2
15 = {
	0 = { # blank
		factor = 100
	}
}

# p16 chinese empress jewelry
16 = {
	0 = { # blank
		factor = 100
	}
}  
# p17 immortality
17 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			immortal = yes
		}
	}
	1 = {
		factor = 100
	}
}

# p18 Special crowns_behind
18 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_minor_title = title_cardinal
				has_minor_title = title_fraticelli_cardinal
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			OR = {
				trait = dead_crown_hre #Dead kings don't have artifacts
				trait = dead_crown_byzantine #Dead kings don't have artifacts
				trait = dead_crown_pahlavi #Dead kings don't have artifacts
				trait = dead_crown_fylkir #Dead kings don't have artifacts
				trait = dead_crown_tengri_fylkir #Dead kings don't have artifacts
				trait = dead_crown_finnish_fylkir #Dead kings don't have artifacts
				trait = dead_crown_slavic_fylkir
				trait = dead_crown_romuva_fylkir
				trait = dead_crown_zun_fylkir
				trait = dead_crown_west_african_fylkir
				trait = dead_crown_aztec_fylkir
				trait = augustus # Laurels
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			any_artifact = {
				OR = {
					artifact_type = crown_hre
					artifact_type = crown_byzantine
					artifact_type = crown_pahlavi
					artifact_type = crown_fylkir
					artifact_type = crown_tengri_fylkir
					artifact_type = crown_finnish_fylkir
					artifact_type = crown_slavic_fylkir
					artifact_type = crown_romuva_fylkir
					artifact_type = crown_zun_fylkir
					artifact_type = crown_west_african_fylkir
					artifact_type = crown_aztec_fylkir
					artifact_type = iron_crown_of_lombardy
					artifact_type = cursed_diamond_crown
				}
				is_artifact_equipped = yes 
			}
		}
	}

	1 = {
		factor = 1
		modifier = { # Makes it so the two layers are always matched (if conditions for p19/frame1 are true, use p18/frame1).
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 1 } }
		}
	}
	
	2 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 2 } }
		}
	}
	
	3 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 3 } }
		}
	}
	4 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 4 } }
		}
	}
	5 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 5 } }
		}
	}
	6 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 6 } }
		}
	}
	7 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 7 } }
		}
	}
	8 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 8 } }
		}
	}
	9 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 9 } }
		}
	}
	10 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 10 } }
		}
	}
	11 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 11 } }
		}
	}
	12 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 12 } }
		}
	}
	13 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 13 } }
		}
	}
	14 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 14 } }
		}
	}
	15 = { 
		factor = 1
		modifier = {
			factor = 0
			NOT = { has_portrait_property = { layer = 19 index = 15 } }
		}
	}
}

# p19 Special crowns 
19 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_minor_title = title_cardinal
				has_minor_title = title_fraticelli_cardinal
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			OR = {
				trait = dead_crown_hre #Dead kings don't have artifacts
				trait = dead_crown_byzantine #Dead kings don't have artifacts
				trait = dead_crown_pahlavi #Dead kings don't have artifacts
				trait = dead_crown_fylkir #Dead kings don't have artifacts
				trait = dead_crown_tengri_fylkir #Dead kings don't have artifacts
				trait = dead_crown_finnish_fylkir #Dead kings don't have artifacts
				trait = dead_crown_slavic_fylkir
				trait = dead_crown_romuva_fylkir
				trait = dead_crown_zun_fylkir
				trait = dead_crown_west_african_fylkir
				trait = dead_crown_aztec_fylkir
				trait = augustus # Laurels
			}
		}
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes  # Has to wear helmet instead.
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
			any_artifact = {
				OR = {
					artifact_type = crown_hre
					artifact_type = crown_byzantine
					artifact_type = crown_pahlavi
					artifact_type = crown_fylkir
					artifact_type = crown_tengri_fylkir
					artifact_type = crown_finnish_fylkir
					artifact_type = crown_slavic_fylkir
					artifact_type = crown_romuva_fylkir
					artifact_type = crown_zun_fylkir
					artifact_type = crown_west_african_fylkir
					artifact_type = crown_aztec_fylkir
					artifact_type = iron_crown_of_lombardy
					artifact_type = cursed_diamond_crown
				}
				is_artifact_equipped = yes 
			}
		}
	}

	1 = {
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #HRE crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_hre
					is_artifact_equipped = yes 
				}
				trait = dead_crown_hre
			}
		}
	}
	
	2 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Byzantine Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_byzantine
					is_artifact_equipped = yes 
				}
				trait = dead_crown_byzantine
			}
		}
	}
	
	3 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Cursed Diamond Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = cursed_diamond_crown
					is_artifact_equipped = yes 
				}
				trait = dead_cursed_diamond_crown
			}
		}
	}
	4 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Iron Crown of Lombardy
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = iron_crown_of_lombardy
					is_artifact_equipped = yes 
				}
				trait = dead_iron_crown_lombardy
			}
		}
	}
	5 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Imperial Laurels
			factor = 0
			NOT = { trait = augustus }
		}
	}
	6 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Pahlavi Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_pahlavi
					is_artifact_equipped = yes 
				}
				trait = dead_crown_pahlavi
			}
		}
	}
	7 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_fylkir
			}
		}
	}
	8 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Tengri Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_tengri_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_tengri_fylkir
			}
		}
	}
	9 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Finnish Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_finnish_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_finnish_fylkir
			}
		}
	}
	10 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #West-African Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_west_african_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_west_african_fylkir
			}
		}
	}
	11 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Slavic/Romva Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_slavic_fylkir
					is_artifact_equipped = yes 
				}
				any_artifact = {
					artifact_type = crown_romuva_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_slavic_fylkir
				trait = dead_crown_romuva_fylkir
			}
		}
	}
	12 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #Zunist Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_zun_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_zun_fylkir
			}
		}
	}
	13 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #Aztec Fylkir Crown
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = crown_aztec_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_crown_aztec_fylkir
			}
		}
	}
	14 = { 
		factor = 100
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			year = 1245
		}
		modifier = {
			factor = 0
			NOR = {
				has_minor_title = title_cardinal
				has_minor_title = title_fraticelli_cardinal
			}
		}
	}
	15 = { 
		factor = 100
		hide_layers = { 3 = { } } #Hide layer 3 (clothes) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			NOT = {
				year = 1245
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_minor_title = title_cardinal
				has_minor_title = title_fraticelli_cardinal
			}
		}
	}
}

# p20 freckles
#Freckles traits from thinnest to thickest:
#freckles_3
#freckles_2
#freckles
#freckles_4
#freckles_5
20 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = freckles_3
				trait = freckles_2
				trait = freckles
				trait = freckles_4
				trait = freckles_5
			}
		}
 	}

	1 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles }
		}
  	}
	2 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_2 }
		}
  	}
	3 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_3 }
		}
  	}
	4 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_4 }
		}
  	}
	5 = { # freckles
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = freckles_5 }
		}
  	}
}

# p21 physique
21 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = is_fat
				trait = sturdy
			}
		}
 	}
	1 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = sturdy }
		}
		modifier = {
			factor = 0
			trait = is_fat
		}
		modifier = {
			factor = 0
			age = 30
		}
  	}
	2 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = sturdy }
		}
		modifier = {
			factor = 0
			trait = is_fat
		}
		modifier = {
			factor = 0
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0
			age = 50
		}
  	}
	3 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = sturdy }
		}
		modifier = {
			factor = 0
			trait = is_fat
		}
		modifier = {
			factor = 0
			NOT = { age = 50 }
		}
  	}
	4 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = is_fat }
		}
		modifier = {
			factor = 0
			age = 30
		}
  	}
	5 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = is_fat }
		}
		modifier = {
			factor = 0
			NOT = { age = 30 }
		}
		modifier = {
			factor = 0
			age = 50
		}
  	}
	6 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = is_fat }
		}
		modifier = {
			factor = 0
			NOT = { age = 50 }
		}
  	}
}

#p22 malnourished
22 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = { 
				trait = ill
				trait = is_malnourished
			}
		}
 	}

	1 = { #pale 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = ill }
			NOT = { trait = is_malnourished }
		}
  	}
}

#p23 black eye
23 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_character_modifier = black_eye
				has_character_modifier = concussion 
				trait = wounded
			}
		}
 	}

	1 = { #black eye. 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = black_eye }
		}
		modifier = {
			factor = 0
			has_character_modifier = black_eye
			has_character_modifier = concussion 
		}
  	}
	2 = { #Concussion.
		factor = 100
		modifier = {
			factor = 0
			NOR = { 
				has_character_modifier = concussion 
				trait = wounded
			}
		}
		modifier = {
			factor = 0
			has_character_modifier = black_eye
			OR = { 
				has_character_modifier = concussion 
				trait = wounded
			}
		}
  	}
	3 = { #Concussion AND Black eye.
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				OR = { 
					has_character_modifier = concussion 
					trait = wounded
				}
				has_character_modifier = black_eye
			}
		}
  	}
}

#p24 harelip
24 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			trait = harelip
		}
 	}

	1 = { #black eye. 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = harelip }
		}
  	}
}

#To add new set of scars, add new _type_ hidden trait, edit the scar-assignment scripted effect, add entries in portrait properties, add new frame and ALL THREE tiers (regular, _mid, and _high).
# p25 mid scars - Tier II
25 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			has_dlc = "Holy Fury"
			trait = scarred_mid
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_5
				trait = scarred_type_6
				trait = scarred_type_7
				trait = scarred_type_8
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}

	2 = { # scar 2 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}

	3 = { # scar 3 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}

	4 = { # scar 4 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	5 = { # scar 5 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	6 = { # scar 6 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	7 = { # scar 7 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	8 = { # scar 8 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	9 = { # scar 9 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
	10 = { # scar 10 - TIER II
		factor = 1
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_high
				NOT = { trait = scarred_mid }
			}
		}
   	}
}

# p26 high scars - Tier III
26 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			has_dlc = "Holy Fury"
			trait = scarred_high
			OR = {
				trait = scarred_type_1
				trait = scarred_type_2
				trait = scarred_type_3
				trait = scarred_type_4
				trait = scarred_type_5
				trait = scarred_type_6
				trait = scarred_type_7
				trait = scarred_type_8
				trait = scarred_type_9
				trait = scarred_type_10
			}
		}
   	}

	1 = { # scar 1 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_1
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}

	2 = { # scar 2 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_2
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}

	3 = { # scar 3 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_3
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}

	4 = { # scar 4 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_4
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	5 = { # scar 5 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_5
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	6 = { # scar 6 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_6
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	7 = { # scar 7 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_7
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	8 = { # scar 8 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_8
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	9 = { # scar 9 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_9
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
	10 = { # scar 10 - TIER III
		factor = 100
		modifier = {
			factor = 0
			NOT = { 
				trait = scarred_type_10
			}
		}
		modifier = {
			factor = 0
			OR = { 
				trait = scarred
				trait = scarred_mid
				NOT = { trait = scarred_high }
			}
		}
   	}
}

#p27 Blood Splatter
27 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			NOT = {
				has_game_rule = {
	   				name = blood_splatter_rule
					value = off
	   			}
   			}
			OR = {
				has_character_modifier = blood_splatter_1
				has_character_modifier = blood_splatter_2
				has_character_modifier = blood_splatter_3
				has_character_modifier = mud_splatter
			}
		}
 	}

	1 = { #Some. 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = blood_splatter_1 }
		}
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
  	}
	2 = { #A lot.
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = blood_splatter_2 }
		}
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
  	}
	3 = { #Bathory.
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = blood_splatter_3 }
		}
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
  	}
	4 = { #Mud splatter.
		factor = 100
		modifier = {
			factor = 0
			has_game_rule = {
   				name = blood_splatter_rule
				value = off
   			}
		}
		modifier = {
			factor = 0
			NOT = { has_character_modifier = mud_splatter }
		}
		modifier = { #Prioritize blood.
			factor = 0
			OR = {
				has_character_modifier = blood_splatter_1
				has_character_modifier = blood_splatter_2
				has_character_modifier = blood_splatter_3
			}
		}
  	}
}

#p28 Tattoos
28 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = african_tattoo_1
				trait = african_tattoo_2
				trait = african_tattoo_3
				trait = african_tattoo_4
				trait = african_tattoo_5
				trait = african_tattoo_6
				trait = african_tattoo_7
				trait = african_tattoo_8
				trait = african_tattoo_9
				trait = african_tattoo_10
				trait = african_tattoo_11
				trait = african_tattoo_12

				trait = norse_tattoo_1
				trait = norse_tattoo_2
				trait = norse_tattoo_3
				trait = norse_tattoo_4
				trait = norse_tattoo_5
				trait = norse_tattoo_6

				trait = slavic_tattoo_1
				trait = slavic_tattoo_2
				trait = slavic_tattoo_3
				trait = slavic_tattoo_4
				trait = slavic_tattoo_5
				trait = slavic_tattoo_6
			}
		}
 	}

	1 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_1 }
		}
  	}
	2 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_2 }
		}
  	}
	3 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_3 }
		}
  	}
	4 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_4 }
		}
  	}
	5 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_5 }
		}
  	}
	6 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_6 }
		}
  	}
	7 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_7 }
		}
  	}
	8 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_8 }
		}
  	}
	9 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_1 }
		}
  	}
	10 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_2 }
		}
  	}
	11 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_3 }
		}
  	}
	12 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_4 }
		}
  	}
	13 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_5 }
		}
  	}
	14 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = norse_tattoo_6 }
		}
  	}
	15 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_1 }
		}
  	}
	16 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_2 }
		}
  	}
	17 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_3 }
		}
  	}
	18 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_4 }
		}
  	}
	19 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_5 }
		}
  	}
	20 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = slavic_tattoo_6 }
		}
  	}
	21 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_9 }
		}
  	}
	22 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_10 }
		}
  	}
	23 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_11 }
		}
  	}
	24 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { trait = african_tattoo_12 }
		}
  	}
}

#p29 Warpaint
29 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				has_character_modifier = aztec_warpaint_1
				has_character_modifier = aztec_warpaint_2
				has_character_modifier = finnish_warpaint_1
				has_character_modifier = finnish_warpaint_2
				has_character_modifier = zun_warpaint_1
				has_character_modifier = zun_warpaint_2
				has_character_modifier = tengri_warpaint_1
				has_character_modifier = tengri_warpaint_2
			}
 		}
 	}

	1 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = aztec_warpaint_1 }
		}
  	}
	2 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = aztec_warpaint_2 }
		}
  	}
	3 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = finnish_warpaint_1 }
		}
  	}
	4 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = finnish_warpaint_2 }
		}
  	}
	5 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = zun_warpaint_1 }
		}
  	}
	6 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = zun_warpaint_2 }
		}
  	}
	7 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = tengri_warpaint_1 }
		}
  	}
	8 = { 
		factor = 100
		modifier = {
			factor = 0
			NOT = { has_character_modifier = tengri_warpaint_2 }
		}
  	}
}

#p30 Demon Child (fantasy only)
30 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			has_character_modifier = demon_horns
			has_game_rule = {
   				name = supernatural_events
				value = unrestricted
   			}
 		}
 	}

	1 = { 
		factor = 100 
		modifier = {
			factor = 0
			NOT = { 
				has_game_rule = {
   					name = supernatural_events
					value = unrestricted
   				}
			}
		}
		modifier = {
			factor = 0
			NOT = {
				has_character_modifier = demon_horns
   			}
		}
  	}
}

#p31 frankish Culture Overlayer - Male
31 = {
	0 = { # Blank
		factor = 100
		trigger = {
			OR = {
				has_game_started = no
				is_in_society = yes
				is_theocracy = yes
				is_merchant_republic = yes
				has_job_title = job_spiritual
				french_overlayer_special_crown_trigger = yes
				NOR = {
					#has_portrait_property = { layer = 5 index = 0 }
					#has_portrait_property = { layer = 5 index = 1 }
					#has_portrait_property = { layer = 5 index = 2 }
					#has_portrait_property = { layer = 5 index = 3 }
					#has_portrait_property = { layer = 5 index = 4 }
					#has_portrait_property = { layer = 5 index = 10 }
					french_martial_overlayer_trigger = yes
					french_count_overlayer_trigger = yes
					french_duke_overlayer_trigger = yes
				}
			}
		}
	}
	1 = { # Military Helm 01
		factor = 100
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	2 = { # Military Helm 02
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	3 = { # Military Helm 03
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	4 = { # Military Helm 04
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	5 = { # Count Accessories
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	6 = { # Count Accessories
		factor = 1
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	7 = { # Count Accessories
		factor = 1
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	8 = { # Count Accessories
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	9 = { # Count Accessories
		factor = 1
		trigger = {
			french_count_overlayer_trigger = yes
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	10 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	11 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	12 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	13 = { # Duke Accessories
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	14 = { # Duke Accessories
		factor = 1
		trigger = {
			french_duke_overlayer_trigger = yes
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
}

#p32 frankish Culture Overlayer - Female
32 = {
	0 = { # Blank
	factor = 100
		trigger = {
			OR = {
				has_game_started = no
				is_in_society = yes
				is_theocracy = yes
				is_merchant_republic = yes
				has_job_title = job_spiritual
				french_overlayer_special_crown_trigger = yes
				NOR = {
					#has_portrait_property = { layer = 5 index = 0 }
					#has_portrait_property = { layer = 5 index = 1 }
					#has_portrait_property = { layer = 5 index = 2 }
					#has_portrait_property = { layer = 5 index = 3 }
					#has_portrait_property = { layer = 5 index = 4 }
					#has_portrait_property = { layer = 5 index = 10 }
					french_martial_overlayer_trigger = yes
					french_duchess_overlayer_trigger = yes
					french_countess_overlayer_trigger = yes
					french_courtier_overlayer_trigger = yes
				}
			}
		}
	}
	1 = { # Military Helm 01
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	2 = { # Military Helm 02
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	3 = { # Military Helm 03
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	4 = { # Military Helm 04
		factor = 1
		trigger = {
			french_martial_overlayer_trigger = yes
		}
	}
	5 = { # Duchess Accessories - Early
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	6 = { # Duchess Accessories - Early
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	7 = { # Duchess Accessories - Early
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	8 = { # Duchess Accessories - Post-1180
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	9 = { # Duchess Accessories - Post-1180
		factor = 1
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
			OR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	10 = { # Countess Accessories - Early
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	11 = { # Countess Accessories - Early
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	12 = { # Countess Accessories - Post-1180
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	13 = { # Countess Accessories - Post-1180
		factor = 1
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	14 = { # Countess Accessories - Post-1180
		factor = 1
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	15 = { # Countess Accessories - Post-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
			NOR = { 
				higher_real_tier_than = COUNT
				spouse = { higher_real_tier_than = COUNT }
			}
		}
	}
	16 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	17 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	18 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	19 = { # Non-noble Pre-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	20 = { # Non-noble Post-1180
		factor = 1
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	21 = { # Non-noble Post-1180
		factor = 1
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	22 = { # Non-noble Post-1180
		factor = 1
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	23 = { # Non-noble Post-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
	24 = { # Non-noble Post-1180
		factor = 1
		#hide_layers = { 1 = { } }
		#hide_layers = { 33 = { } } #Veil overload.
		trigger = {
			french_courtier_overlayer_trigger = yes
			year = 1180
		}
	}
}

#p33 frankish Culture Underlayer and Hair - Female
33 = {
	0 = { # Blank
		factor = 100
		trigger = {
			OR = {
				has_game_started = no
				is_in_society = yes
				is_theocracy = yes
				is_merchant_republic = yes
				has_job_title = job_spiritual
				french_overlayer_special_crown_trigger = yes
				NOR = {
					#has_portrait_property = { layer = 5 index = 0 }
					#has_portrait_property = { layer = 5 index = 1 }
					#has_portrait_property = { layer = 5 index = 2 }
					#has_portrait_property = { layer = 5 index = 3 }
					#has_portrait_property = { layer = 5 index = 4 }
					#has_portrait_property = { layer = 5 index = 10 }
					french_queen_underlayer_trigger = yes
					french_duchess_overlayer_trigger = yes
					french_countess_overlayer_trigger = yes
				}
			}
		}
	}
	1 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	2 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	3 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	4 = { # Empress / Queen Pre-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	5 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	6 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	7 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	8 = { # Empress / Queen Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_queen_underlayer_trigger = yes
			year = 1180
		}
	}
	9 = { # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	10 = { # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	11 = {  # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	12 = { # Duchess Early
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	13 = { # Duchess Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
		}
	}
	14 = { # Duchess Post-1180
		factor = 1
		hide_layers = { 1 = { } }
		trigger = {
			french_duchess_overlayer_trigger = yes
			year = 1180
		}
	}
	15 = { # Countess Early
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	16 = { # Countess Early
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	17 = { # Countess Early
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			NOT = { year = 1180 }
		}
	}
	18 = { # Countess Post-1180
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
		}
	}
	19 = { # Countess Post-1180
		factor = 100
		hide_layers = { 1 = { } }
		trigger = {
			french_countess_overlayer_trigger = yes
			year = 1180
		}
	}
}

# p34 Special Helmets 
34 = {
	0 = { # blank
		factor = 100
		modifier = { #Templar special headgear.
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
			religion = catholic
			OR = {
				has_landed_title = d_knights_templar 
				has_landed_title = d_knights_hospitaler
				has_landed_title = d_teutonic_order
				has_landed_title = k_teutonic_state
				has_landed_title = d_livonian_order
				has_landed_title = d_knights_santiago
				has_landed_title = d_knights_calatrava
				liege = { has_landed_title = d_knights_templar }
				liege = { has_landed_title = d_knights_hospitaler }
				liege = { has_landed_title = d_teutonic_order }
				liege = { has_landed_title = k_teutonic_state }
				liege = { has_landed_title = d_livonian_order }
				liege = { has_landed_title = d_knights_santiago }
				liege = { has_landed_title = d_knights_calatrava }
			}
		}
		modifier = { #Wearable Crown artifacts.
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
			OR = { 
				any_artifact = { artifact_type = crown_crusader_king is_artifact_equipped = yes } 
				any_artifact = { artifact_type = crown_winged_helmet is_artifact_equipped = yes } 
				any_artifact = { artifact_type = crown_wrapped_helmet is_artifact_equipped = yes } 
			}
		}
		modifier = { #Unicorn
			factor = 0
			any_artifact = { artifact_type = crown_unicorn_helmet is_artifact_equipped = yes } 
		}
	}
	1 = { #Templar special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NAND = {
				in_command = yes
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_knights_templar 
				liege = { has_landed_title = d_knights_templar }
			}
		}
	}
	2 = {  #Crusader King helmet - Male.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_crusader_king
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = {
			factor = 0
			is_female = yes
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	3 = { #Crusader King helmet - Female.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_crusader_king
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = {
			factor = 0
			is_female = no
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	4 = { #Hospitaler special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_knights_hospitaler 
				liege = { has_landed_title = d_knights_hospitaler }
			}
		}
	}
	5 = {  #Teuton special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_teutonic_order 
				has_landed_title = k_teutonic_state 
				liege = { has_landed_title = d_teutonic_order }
				liege = { has_landed_title = k_teutonic_state }
			}
		}
	}
	6 = { #Wearable Winged Helmet
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_winged_helmet
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	7 = {  #Calatrava/Santiago special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_knights_santiago 
				has_landed_title = d_knights_calatrava 
				liege = { has_landed_title = d_knights_santiago }
				liege = { has_landed_title = d_knights_calatrava }
			}
		}
	}
	8 = { #Wearable Wrapped Helmet
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = { 
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_wrapped_helmet
					is_artifact_equipped = yes 
				}
			}
		}
		modifier = { 
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
	}
	9 = { #Livonian special headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		modifier = {
			factor = 0
			NAND = { 
				in_command = yes 
				has_game_rule = {
					name = martial_headgear
					value = on
				}
			}
		}
		modifier = {
			factor = 0
			NOR = {
				has_landed_title = d_livonian_order 
				liege = { has_landed_title = d_livonian_order }
			}
		}
	}
	10 = { #Unicorn headgear.
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		hide_layers = { 1 = { } } #Hide Hair.
		hide_layers = { 3 = { } } #Hide Clothes.
		hide_layers = { 18 = { } } #Hide layers with special crowns.
		hide_layers = { 19 = { } } #Hide layers with special crowns.
		hide_layers = { 31 = { } } #Veil overload.
		hide_layers = { 32 = { } } 
		hide_layers = { 33 = { } }
		#modifier = {
		#	factor = 0
		#	NAND = { 
		#		in_command = yes 
		#		has_game_rule = {
		#			name = martial_headgear
		#			value = on
		#		}
		#	}
		#}
		modifier = {
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_unicorn_helmet
					is_artifact_equipped = yes 
				}
			}
		}
	}
}


# p35 Special Masks 
35 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			any_artifact = {
				OR = { #Different modifier since in this case being in command should not prevent you from wearing the mask.
					artifact_type = crown_african_mask_1
					artifact_type = crown_african_mask_2
					artifact_type = crown_african_mask_3
					artifact_type = crown_african_mask_4
					artifact_type = crown_african_mask_5
					artifact_type = crown_african_mask_6
					artifact_type = crown_african_mask_7
					artifact_type = crown_african_mask_8
				}
				is_artifact_equipped = yes 
			}
		}
	}

	1 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_1
					is_artifact_equipped = yes 
				}
			}
		}
	}
	2 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_2
					is_artifact_equipped = yes 
				}
			}
		}
	}
	3 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_3
					is_artifact_equipped = yes 
				}
			}
		}
	}
	4 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_4
					is_artifact_equipped = yes 
				}
			}
		}
	}
	5 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_5
					is_artifact_equipped = yes 
				}
			}
		}
	}
	6 = { 
		factor = 100
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_6
					is_artifact_equipped = yes 
				}
			}
		}
	}
	7 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_7
					is_artifact_equipped = yes 
				}
			}
		}
	}
	8 = { 
		factor = 100
		hide_layers = { 12 = { } } #Hide layer 12 (disfigured masks) when this frame is picked.
		hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = { #African Masks
			factor = 0
			NOT = { 
				any_artifact = {
					artifact_type = crown_african_mask_8
					is_artifact_equipped = yes 
				}
			}
		}
	}
}

# p36 Special Scepters 
36 = {
	0 = { # blank
		factor = 100
		modifier = {
			factor = 0
			OR = {
				trait = dead_scepter_bon_fylkir
				trait = dead_scepter_hellenic_fylkir
			}
		}
		modifier = {
			factor = 0
			OR = {
				in_command = no
				has_game_rule = {
					name = martial_headgear
					value = off
				}
			}
			any_artifact = {
				OR = {
					artifact_type = scepter_bon_fylkir
					artifact_type = scepter_hellenic_fylkir
				}
				is_artifact_equipped = yes 
			}
		}
	}
	1 = { 
		factor = 100
		#hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Bon Fylkir Scepter
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = scepter_bon_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_scepter_bon_fylkir
			}
		}
	}
	2 = { 
		factor = 100
		#hide_layers = { 5 = { } } #Hide layer 5 (headgear) when this frame is picked.
		modifier = {
			factor = 0
			in_command = yes
			has_game_rule = {
				name = martial_headgear
				value = on
			}
		}
		modifier = { #Hellenic Fylkir Scepter
			factor = 0
			NOR = { 
				any_artifact = {
					artifact_type = scepter_hellenic_fylkir
					is_artifact_equipped = yes 
				}
				trait = dead_scepter_hellenic_fylkir
			}
		}
	}
}