
# Feudal Government is a Generic Government, used primarily for the Seven. Accepts Old Gods Feudal as a liege.
# Muslim Government is the Eastern Feudal, and is for Essosi-based Rulers. Accepts Freehold and Republic lieges, but neither Old Gods or Westerosi Feudal.
# Freehold Government is a special Feudal Government for the on-map Valyrian Freehold.
# Night's Watch Government is a special Feudal Government for the Night's watch, and accepts no other Governments as a liege.
# Old Gods Government is the Old Gods Feudal Government, and is specific to Old Gods Characters.
# Stepstones Feudal is a special Feudal Government for the Stepstones, accepting no valid lieges and is accepted by no other Governments.
# Merchant Kingdom is a government with the intention of simulating the influence of merchants and other freeholders on a king and his court. (The Arbor)

feudal_governments = {

    feudal_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            CASTLE 
            FORT
            HOSPITAL
        }
        accepts_liege_governments = { # Gets the wrong religion modifier instead
            old_gods_government
            nights_watch_government         # Although it cannot rule over the NW, the NW can rule over them.
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            tribal_government
            wildling_government
            old_gods_government
            stepstones_government
        }
        frame_suffix = "_feudal"
        potential = {
            # Generic Block, due to presence of other government types
            NOR = {
                controls_religion = yes
                is_government_potential = muslim_government       	    # Essosi Goverment
                is_government_potential = old_gods_government      	    # Old Gods Government
                is_government_potential = stepstones_government         # Stepstones Government
                is_government_potential = nights_watch_government      	# Night's Watch Government
                is_government_potential = wildling_government      	   	# Wildling Government, Tribal
				is_government_potential = merchant_kingdom_government   # Merchant Kingdom
				is_government_potential = theocratic_kingdom_government # Theocratic Kingdom
            }
            is_patrician = no
        }
        
        color = { 70 90 160 }
        
        dukes_called_kings = yes
        barons_need_dynasty = yes

        can_build_tribal = no
        
        capital_move_delay = 600
    }
    
    # Essosi / Eastern Government
    muslim_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            CASTLE
            TEMPLE
            FORT
            HOSPITAL
        }
        allowed_holdings_culture = { # Will not get the wrong government type penalty for tribes of the same culture
            TRIBAL
        }
        accepts_liege_governments = { # Gets the wrong religion modifier instead
            freehold_government
            merchant_republic_government
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            tribal_government
            wildling_government
            stepstones_government
        }
        frame_suffix = "_iqta"
        potential = {
            NOR = {
                controls_religion = yes
                is_government_potential = stepstones_government     # Stepstones Government
            }
            capital_scope = {
                region = world_essos            # Essosi Government
            }
            is_patrician = no
        }
        
        color = { 180 150 195 }
        
        uses_decadence = no
        uses_piety_for_law_change = no
        
        dukes_called_kings = yes
        barons_need_dynasty = yes
        have_gender_laws = yes
        allows_matrilineal_marriage = yes   # Consider removing for consistency, as republics in essos also lack matrilineal marriage.
        free_retract_vassalage = yes

        free_levies_in_offensive_war = no   # Raise levies in offensive war without vassal opinion penalty.

        can_build_tribal = no
        
        ignore_in_vassal_limit_calculation = {
            tribal_government
        }
        capital_move_delay = 600
    }
    
    theocratic_feudal_government = {
		preferred_holdings = { CASTLE TEMPLE }
		allowed_holdings = { 
			CASTLE 
			TEMPLE
			FORT
			HOSPITAL
		}
		allowed_holdings_culture = { # Will not get the wrong government type penalty for tribes of the same culture
			TRIBAL
		}
		accepts_liege_governments = { # Gets the wrong religion modifier instead
			muslim_government
			theocracy_government
			feudal_government
			chinese_imperial_government
		}
		free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
			tribal_government
		}
		frame_suffix = "_theocraticfeudal"
		potential = {
			NAND = {
				controls_religion = yes
				NOT = { religion_group = muslim }
				NOT = { religion = norse_pagan_reformed }
			}
			NOT = {	religion_group = muslim	}
			AND = { 
				culture_group = tibetan_group
				OR = {
					religion = bon
					religion = buddhist
				}
				higher_tier_than = BARON
			}
			NAND = { 
				tier = EMPEROR
				primary_title = { has_title_flag = pretender_chinese_empire }
				OR = {
					culture_group = chinese_group
					culture = khitan
					culture = tangut
					culture = jurchen
					has_character_flag = chinese_imperial_government_preserve
				}
			}
			is_patrician = no
		}
		
		color = { 207 145 90 }
		
		uses_piety_for_law_change = yes
		dukes_called_kings = yes
		barons_need_dynasty = yes

		can_build_tribal = no
		
		ignore_in_vassal_limit_calculation = {
			tribal_government
		}
		capital_move_delay = 600
	}
	
	chinese_imperial_government = {
		preferred_holdings = { CASTLE CITY }
		allowed_holdings = {
			CASTLE
			CITY
			FORT
			HOSPITAL
		}
		allowed_holdings_culture = { # Will not get the wrong government type penalty for tribes of the same culture
			TRIBAL
		}
		accepts_liege_governments = { # Gets the wrong religion modifier instead
			feudal_government
			muslim_government
			theocratic_feudal_government
		}
		free_revoke_on_tiers = {
			duke
		}
		free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
			tribal_government
		}
		frame_suffix = "_chineseimperial"
		potential = {
			tier = EMPEROR
			primary_title = { has_title_flag = pretender_chinese_empire }
			OR = {
				culture_group = chinese_group
				culture = khitan
				culture = tangut
				culture = jurchen
				has_character_flag = chinese_imperial_government_preserve #keeps government when player is given culture change opton
			}
			is_patrician = no
		}
		
		color = { 118 255 163 }

		barons_need_dynasty = yes

		can_build_tribal = no
		
		ignore_in_vassal_limit_calculation = {
			tribal_government
		}
		capital_move_delay = 200
		
		can_usurp_kingdoms_and_empires = no
		can_create_empires = no
		can_demand_religious_conversion = no
		gets_religion_opinion_penalties = no
		gives_religion_opinion_penalties = no
		vassal_government_opinion_penalties = no
		can_grant_kingdoms_and_empires_to_other_government_group = yes
		free_retract_vassalage = yes
		
		vassal_limit = 10
		
		character_modifier = {
			monthly_character_piety = 1
		}
	}
    
    # Old Gods Government, Decentralized Feudal/Tribal hybrid?
    old_gods_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            CASTLE 
            FORT
            HOSPITAL
        }
        allowed_holdings_culture = { # Will not get the wrong government type penalty for tribes of the same culture
            TRIBAL
        }
        accepts_liege_governments = { # Gets the wrong religion modifier instead
            feudal_government
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            tribal_government
            wildling_government
            stepstones_government
        }
        frame_suffix = "_feudal"
        potential = {
            NOT = {
                controls_religion = yes
            }
            OR = {
                religion = old_gods
                religion = old_gods_beyond
                religion = old_gods_beyond_white
            }
            NOT = { culture_group = free_folk }
            is_patrician = no
        }
        
        color = { 125 121 138 }
        
        dukes_called_kings = yes
        barons_need_dynasty = yes

        can_build_tribal = no
        
        free_retract_vassalage = yes
        free_levies_in_offensive_war = yes   # Raise levies in offensive war without vassal opinion penalty.
        
        ignore_in_vassal_limit_calculation = {
            tribal_government
        }
        capital_move_delay = 600
    }
    
    nights_watch_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            CASTLE 
            FORT
            HOSPITAL
        }
        allowed_holdings_culture = { # Will not get the wrong government type penalty for tribes of the same culture
            TRIBAL
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            wildling_government
        }
        potential = {
            OR = {
                primary_title = { 
                    OR = {
                        title = d_the_wall
                        title = k_the_nights_watch
                    }
                }
            }
        }
        
        color = { 60 70 70 }
        
        title_prefix = "brother_"
        frame_suffix = "_nights_watch" 
        
        allow_title_revokation = no
        allow_looting = no
        
        can_create_kingdoms = no
        can_usurp_kingdoms_and_empires = no
        
        dukes_called_kings = no
        barons_need_dynasty = no
        have_gender_laws = no
        
        can_grant_kingdoms_and_empires_to_other_government = no
        can_be_granted_kingdoms_and_empires_by_other_government = yes
        
        free_levies_in_offensive_war = yes # For players
        
        aggression = 0.0 # AI will never wage offensive wars.

        can_build_tribal = no
        
        vassal_limit = 10
        
        capital_move_delay = 600
    }
    
    stepstones_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            CASTLE 
            FORT
            HOSPITAL
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            tribal_government
            wildling_government
        }
        frame_suffix = "_feudal"
        potential = {
            NOT = {
                controls_religion = yes
            }
            OR = {
                religion = lady_of_the_rocks
                religion = black_flag
            }
            is_patrician = no
        }
        
        color = { 165 135 115 }
        
        dukes_called_kings = yes
        barons_need_dynasty = yes

        can_build_tribal = no
        
        free_levies_in_offensive_war = yes   # Raise levies in offensive war without vassal opinion penalty.
        
        capital_move_delay = 600
    }
	
	merchant_kingdom_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            castle
            FORT
            HOSPITAL
        }
        accepts_liege_governments = { # Gets the wrong religion modifier instead
            old_gods_government
            nights_watch_government         # Although it cannot rule over the NW, the NW can rule over them.
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            tribal_government
            wildling_government
            old_gods_government
            stepstones_government
        }
		potential = {
            has_landed_title = k_the_arbor
            }
        frame_suffix = "_ming"
        potential = {
            # Generic Block, due to presence of other government types
            NOR = {
                controls_religion = yes
                is_government_potential = muslim_government         # Essosi Goverment
                is_government_potential = old_gods_government       # Old Gods Government
                is_government_potential = stepstones_government     # Stepstones Government
                is_government_potential = nights_watch_government   # Night's Watch Government
                is_government_potential = wildling_government       # Wildling Government, Tribal
				is_government_potential = feudal_goverment          # Generic Feudal
            }
            is_patrician = no
        }
        
        color = { 135 70 135 }
        
        dukes_called_kings = no
        barons_need_dynasty = no
        can_build_tribal = no
		
		character_modifier = {
			stewardship = 3
			fertility = 0.15
			vassal_opinion = 5
			global_tax_modifier = -0.30
			ai_honor = -5
			dynasty_opinion = -5
		}
        
        capital_move_delay = 600
    }   
	
	theocratic_kingdom_government = {
        preferred_holdings = { CASTLE }
        allowed_holdings = { 
            castle
            FORT
            HOSPITAL
        }
        accepts_liege_governments = { # Gets the wrong religion modifier instead
            old_gods_government
            nights_watch_government         # Although it cannot rule over the NW, the NW can rule over them.
        }
        free_revoke_on_governments_religion = { # Tribal vassals of other religions can have their titles revoked for free
            tribal_government
            wildling_government
            old_gods_government
            stepstones_government
        }
		potential = {
            has_landed_title = k_oldtown
            }
        frame_suffix = "_oldtown"
        potential = {
            # Generic Block, due to presence of other government types
            NOR = {
                controls_religion = yes
                is_government_potential = muslim_government         # Essosi Goverment
                is_government_potential = old_gods_government       # Old Gods Government
                is_government_potential = stepstones_government     # Stepstones Government
                is_government_potential = nights_watch_government   # Night's Watch Government
                is_government_potential = wildling_government       # Wildling Government, Tribal
				is_government_potential = feudal_goverment          # Generic Feudal
            }
            is_patrician = no
        }
        
        color = { 187 187 187 }
        
        dukes_called_kings = no
        barons_need_dynasty = no
        can_build_tribal = no
		no_vassal_tax = { theocracy_government }
		
		character_modifier = {
			learning = 3
			fertility = -0.1
			vassal_opinion = 5
			global_tax_modifier = -0.10
			ai_honor = 5
			dynasty_opinion = 5
		}
        
        capital_move_delay = 600
    }   
}
