namespace = core_building_setup
# Created by Rowan

###################
### INFORMATION ###
###################
###################

# This event chain assigns infrastructure as well as buildings to every single province on game start
# The assignment is based on whether or not it is the capital province (which will always be developed the best)
# and the rank of the owner, wherein higher ranked title holders will have better development.

# Region also affects the degree in which development is assigned.


#################
### THE EVENT ###
#################
#################

character_event = { 
	id = core_building_setup.1
	hide_window = yes
	is_triggered_only = yes # Triggered from on_startup
	
	# Event should fire for owned provinces of all landed characters.
	only_playable = yes
	
	trigger = {
		NOT = { has_character_flag = core_building_setup_complete }
		# has_character_flag = core_resource_setup_complete
		has_game_rule = { name = resource_system value = resource_system_enabled }
	}
	
	immediate = {
		set_character_flag = core_building_setup_complete
	
		trigger_switch = {
			on_trigger = tier
			
			###################################################
			############## Rank based infrastructure and roads
			count = {
				any_demesne_province = {
					### Assign capital development based on region ###
					if = {
						limit = {
							is_capital = yes 
						}
						
						trigger_switch = {
							on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
								
									world_the_north = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_2
												add_building = ca_far_sus_2
												add_building = ca_castle_town_1
											}
										}
										70 = { }
										}
									}
									world_the_westerlands = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_2
												add_building = ca_far_sus_1
												add_building = ca_castle_town_3
											}
										}
										70 = { }
										}
									}
									world_the_stormlands = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_3
												add_building = ca_recruit_1
												add_building = ca_barracks_2
												add_building = ca_far_sus_1
												add_building = ca_castle_town_2
											}
										}
										70 = { }
										}
									}
									world_the_blackwater = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_1
												add_building = ca_castle_town_1
											}
										}
										70 = { }
										}
									}
									world_the_vale = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_1
												add_building = ca_castle_town_1
											}
										}
										70 = { }
										}
									}
									world_dorne = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_1
												add_building = ca_castle_town_1
											}
										}
										70 = { }
										}
									}
									world_the_iron_islands = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_1
												add_building = ca_castle_town_1
											}
										}
										70 = { }
										}
									}
									world_the_reach = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_3
												add_building = ca_recruit_1
												add_building = ca_barracks_2
												add_building = ca_far_sus_2
												add_building = ca_castle_town_3
											}
										}
										70 = { }
										}
									}
									world_the_riverlands = {
										random_list = {
										30 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_2
												add_building = ca_castle_town_1
											}
										}
										70 = { }
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
								
									world_braavos = {
										random_list = {
										10 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_1
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_1
											}
										}
										90 = { }
										}
									}
									world_valyria = {
										random_list = {
										70 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_3
												add_building = ca_recruit_1
												add_building = ca_barracks_2
												add_building = ca_far_sus_2
												add_building = ca_castle_town_3
											}
										}
										30 = { }
										}
									}
									world_the_stepstones = {
										random_list = {
										10 = {
											add_province_modifier = { name = tsk_infra_1 duration = -1 }
											any_province_holding = {
												add_building = ca_settlement_1
												add_building = ca_recruit_1
												add_building = ca_barracks_1
												add_building = ca_far_sus_1
											}
										}
										90 = { }
										}
									}
								}
							}
						}
					}
					else_if = {
						limit = {
							NOT = { is_capital = yes }
						}
					
						trigger_switch = {
							on_trigger = region

							world_westeros = {
								trigger_switch = {
									on_trigger = region
								
									world_the_north = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_barracks_1
													add_building = ca_far_sus_2
												}
											}
											90 = { }
										}
									}
									world_the_westerlands = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_recruit_1
													add_building = ca_far_sus_2
												}
											}
											90 = { }
										}
									}
									world_the_stormlands = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_recruit_1
													add_building = ca_far_sus_1
													add_building = ca_castle_town_1
												}
											}
											90 = { }
										}
									}
									world_the_blackwater = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_far_sus_1
													add_building = ca_castle_town_1
												}
											}
											90 = { }
										}
									}
									world_the_vale = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_barracks_2
												add_building = ca_far_sus_2
											}
											}
											90 = { }
										}
									}
									world_dorne = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												add_building = ca_settlement_2
												add_building = ca_far_sus_1
												add_building = ca_castle_town_1
											}
											}
											90 = { }
										}
									}
									world_the_iron_islands = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_recruit_1
													add_building = ca_barracks_1
												}
											}
											90 = { }
										}
									}
									world_the_reach = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_recruit_1
													add_building = ca_far_sus_2
													add_building = ca_castle_town_1
												}
											}
											90 = { }
										}
									}
									world_the_riverlands = {
										random_list = {
											10 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
													add_building = ca_settlement_2
													add_building = ca_recruit_1
													add_building = ca_far_sus_1
													add_building = ca_castle_town_1
												}
											}
											90 = { }
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
									
									world_braavos = {
										random_list = {
											2 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
											}
											98 = { }
										}
									}
									world_valyria = {
										random_list = {
											60 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
											}
											40 = { }
										}
									}
									world_the_stepstones = {
										random_list = {
											2 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
											}
											98 = { }
										}
									}
								}
							}
						}
					}
				}
			}
			duke = {
				any_demesne_province = {
					if = {
						limit = {
							is_capital = yes 
						}
						
						### Assign capital development based on region ###
						trigger_switch = {
						on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
								
									world_the_north = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_westerlands = {
										random_list = {
											70 = { add_province_modifier = { name = tsk_infra_2 duration = -1 } }
											30 = { add_province_modifier = { name = tsk_infra_3 duration = -1 } }
										}
									}
									world_the_stormlands = {
										random_list = {
											70 = { add_province_modifier = { name = tsk_infra_2 duration = -1 } }
											30 = { add_province_modifier = { name = tsk_infra_3 duration = -1 } }
										}
									}
									world_the_blackwater = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_vale = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_dorne = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_iron_islands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_reach = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_riverlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
								
									world_braavos = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_valyria = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stepstones = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
						}
					}
					else_if = {
						limit = {
							NOT = { is_capital = yes }
						}
						
						### Assign capital development based on region ###
						trigger_switch = {
						on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
								
									world_the_north = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_westerlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stormlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_blackwater = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_vale = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_dorne = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_iron_islands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_reach = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_riverlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
								
									world_braavos = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_valyria = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stepstones = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_2 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_1 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			king = {
				any_demesne_province = {
					if = {
						limit = {
							is_capital = yes
						}
						
						trigger_switch = {
							on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
									
									world_the_north = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_westerlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stormlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_blackwater = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_vale = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_dorne = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_iron_islands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_reach = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_riverlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
								
									world_braavos = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_valyria = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stepstones = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
						}
					}
					else_if = {
						limit = {
							NOT = { is_capital = yes }
						}
						
						trigger_switch = {
							on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
									
									world_the_north = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_westerlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stormlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_blackwater = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_vale = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_dorne = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_iron_islands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_reach = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_riverlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
								
									world_braavos = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_valyria = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stepstones = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_3 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
			emperor = {
				any_demesne_province = {
					if = {
						limit = {
							is_capital = yes 
						}
						
						trigger_switch = {
							on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
									
									world_the_north = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_westerlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stormlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_blackwater = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_vale = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_dorne = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_iron_islands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_reach = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_riverlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
									
									world_braavos = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_valyria = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stepstones = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
						}
					}
					else_if = {
						limit = {
							NOT = { is_capital = yes }
						}
						
						trigger_switch = {
							on_trigger = region
						
							world_westeros = {
								trigger_switch = {
									on_trigger = region
									
									world_the_north = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_westerlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stormlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_blackwater = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_vale = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_dorne = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_iron_islands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_reach = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_riverlands = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
							world_essos = {
								trigger_switch = {
									on_trigger = region
									
									world_braavos = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_valyria = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
									world_the_stepstones = {
										random_list = {
											70 = {
												add_province_modifier = { name = tsk_infra_5 duration = -1 }
												any_province_holding = {
												}
											}
											30 = {
												add_province_modifier = { name = tsk_infra_4 duration = -1 }
												any_province_holding = {
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
