# Guard Events by Godman
namespace = roseguard

### Roseguard ###
character_event = {
    id = roseguard.0001
    desc = "EVTDESCroseguard.0001"
    
    # This event will only for independent rulers
    # IE top lieges.
    only_independent = yes

    trigger = {
        # Fires for the Emperor/King of the Reach only
        has_landed_title = e_the_reach
        
        # Roseguard exists
        is_title_active = d_roseguard
        
        # Roseguard is recruiting
        has_global_flag = roseguard_recruiting
        
        # Is not ignoring/refusing the Roseguard
        NOT = { has_character_flag = ignore_roseguard }    
        
        # Roseguard does not have seven members
        NOT = {
            d_roseguard = {
                is_active = yes
                count = 7
            }
        }
        
        # Event will only trigger if someone in the realm has these stats
        any_realm_character = {
            NOT = { character = ROOT }
            NOT = { is_rival = ROOT }
            NOT = { has_character_flag = refused_roseguard }    
            is_ruler = no
            prisoner = no
            is_female = no
            is_married = no
            age = 16
            
            OR = {
                trait = dueling_skilled
                trait = dueling_expert
                trait = dueling_master
                trait = dueling_legend
            }
        }    
    }
    
    mean_time_to_happen = {
        months = 1
    }
    
    option = {
        name = "EVTOPTAroseguard.0001" ## Ferocius Fighters ##
        
        trigger = {
            any_realm_character = {
                NOT = { character = ROOT }
                NOT = { is_rival = ROOT }
                NOT = { has_character_flag = refused_roseguard }    
                is_ruler = no
                prisoner = no
                is_female = no
                is_married = no
                age = 16
                
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
					martial = 18
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
            }
        }
        
        ai_chance = {
            factor = 2
            modifier = {
                factor = 3
                OR = {
                    trait = diligent
                    trait = weak
                    trait = honest
                    trait = just
                }
            }
        }
        
        character_event = { id = roseguard.0002 }
    }
    
    option = {
        name = "EVTOPTBroseguard.0001" ##Faithful Friends##
        
        trigger = {
            any_realm_character = {
                NOT = { character = ROOT }
                NOT = { is_rival = ROOT }
                NOT = { has_character_flag = refused_roseguard }    
                is_ruler = no
                prisoner = no
                is_female = no
                is_married = no
                age = 16
                
                OR = {
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            martial = 12
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  75 }
                    }
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
							trait = dueling_master
							trait = dueling_legend
							martial = 15
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  60 }
                    }
                }
            }
        }
        
        ai_chance = {
            factor = 2
            modifier = {
                factor = 3
                OR = {
                    trait = deceitful
                    trait = arbitrary
                    trait = paranoid
                }
            }
        }
        
        character_event = { id = roseguard.0003 }
    }
    
    option = {
        name = "EVTOPTCroseguard.0001" ## Vassal Children ##    
        trigger = {
            any_realm_character = {
                NOT = { character = ROOT }
                NOT = { is_rival = ROOT }
                NOT = { has_character_flag = refused_roseguard }    
                is_ruler = no
                prisoner = no
                is_female = no
                is_married = no
                age = 16
                
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
					trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                    martial = 12
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }
                
                # Our character in question's father is not a KING
                
                NOT = {
                    father = {
                        war = no
                        is_alive = yes
                        is_ruler = yes
                        tier = KING
                        num_of_children = 2
                    }
                }
                
                # But a Duke
                
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    tier = DUKE
                    num_of_children = 2
                }
            }    
        }
        
        ai_chance = {
            factor = 1
            modifier = {
                factor = 4
                OR = {
                    trait = greedy
                    trait = envious
                    trait = ambitious
                }
            }
        }
        
        character_event = { id = roseguard.0004 }
    }
    
    option = {
        name = "EVTOPTDroseguard.0001" ## Strong Family children ##
        
        trigger = {
            any_realm_character = {
                NOT = { character = ROOT }
                NOT = { is_rival = ROOT }
                NOT = { has_character_flag = refused_roseguard }    
                is_ruler = no
                prisoner = no
                is_female = no
                is_married = no
                age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
					trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                    martial = 10
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    tier = king
                    num_of_children = 2
                }
            }
        }
        
        ai_chance = {
            factor = 2
            modifier = {
                factor = 3
                OR = {
                    trait = greedy
                    trait = envious
                    trait = ambitious
                }
            }
        }
        
        character_event = { id = roseguard.0006 }
    }
    #No suitable candidates
    option = {
        name = "EVTOPTFroseguard.0001" # Weak people #
        trigger = {
            NOT = {
                any_realm_character = {
                    NOT = { character = ROOT }
					NOT = { is_rival = ROOT }
					NOT = { has_character_flag = refused_roseguard }    
					is_ruler = no
					prisoner = no
					is_female = no
					is_married = no
					age = 16
				
                    OR = {
                        AND = {
                            OR = {
                                trait = dueling_skilled
                                trait = dueling_expert
                                trait = dueling_master
                                trait = dueling_legend
                            }
                            OR = {
                                martial = 15
                                trait = strong
                                trait = brave
                                trait = tall
                                trait = quick
                                trait = genius
                            }    
                        }
                        AND = {
                            OR = {
                                trait = dueling_novice
                                trait = dueling_adept
                                trait = dueling_skilled
                                trait = dueling_expert
                                trait = dueling_master
                                trait = dueling_legend
                            }
                            OR = {
                                trait = dueling_expert
                                trait = dueling_master
                                trait = dueling_legend
                                martial = 10
                                trait = strong
                                trait = brave
                                trait = tall
                                trait = quick
                                trait = genius
                            }
                            opinion = { who = ROOT value =  50 }
                        }
                        AND = {
                            OR = {
                                trait = dueling_expert
                                trait = dueling_master
                                trait = dueling_legend
                            }
                            OR = {
                                trait = dueling_expert
                                trait = dueling_master
                                trait = dueling_legend
                                martial = 16
                                trait = strong
                                trait = brave
                                trait = tall
                                trait = quick
                                trait = genius
                            }
                            opinion = { who = ROOT value =  40 }
                        }
                        AND = {
                            OR = {
                                trait = dueling_skilled
                                trait = dueling_expert
                                trait = dueling_master
                                trait = dueling_legend
                            }
                            OR = {
                                martial = 14
                                trait = strong
                                trait = brave
                                trait = tall
                                trait = quick
                                trait = genius
                            }    
                            father = {
                                war = no
                                is_alive = yes
                                is_ruler = yes
                                OR = {
                                    tier = duke
                                    tier = king
                                }    
                                num_of_children = 2
                            }
                        }
                    }
                }
            }
            # Fallback - Weak Choice
            any_realm_character = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_novice
					trait = dueling_adept
					trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
            }    
        }
        character_event = { id = roseguard.0057 }
    }    
    option = {
        name = "EVTOPTEroseguard.0001" #No one is ready#.
        trigger = { ai = no }
        set_character_flag = ignore_roseguard
    }
}

## Ferocious Fighters ##
character_event = {
    id = roseguard.0002
    desc = "EVTDESCroseguard.0002"
    
    is_triggered_only = yes

    immediate = {
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 18
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
            }
            set_character_flag = roseguard_1
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 18
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                NOT = { has_character_flag = roseguard_1 }
            }
            set_character_flag = roseguard_2
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 18
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                NOT = { has_character_flag = roseguard_1 }
                NOT = { has_character_flag = roseguard_2 }
            }
            set_character_flag = roseguard_3
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #This one#
        trigger = { any_realm_character = { has_character_flag = roseguard_1 } }        
        random_realm_character = {
            limit = { has_character_flag = roseguard_1 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #Annoy parent#
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #This one#    
        trigger = { any_realm_character = { has_character_flag = roseguard_2 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_2 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #Annoy parent#
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }    
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #This one#    
        trigger = { any_realm_character = { has_character_flag = roseguard_3 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_3 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTDroseguard.0002" #None
        trigger = { ai = no }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
}

##Faithful Friends##
character_event = {
    id = roseguard.0003
    desc = "EVTDESCroseguard.0003"
    
    is_triggered_only = yes

    immediate = {
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    AND = {
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                            martial = 12
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  75 }
                    }
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                            martial = 14
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  50 }
                    }
                }
            }
            set_character_flag = roseguard_1
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                            martial = 10
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  75 }
                    }
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                            martial = 14
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  50 }
                    }
                }
                NOT = { has_character_flag = roseguard_1 }
            }
            set_character_flag = roseguard_2
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                            martial = 10
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  75 }
                    }
                    AND = {
                        OR = {
                            trait = dueling_skilled
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                        }
                        OR = {
                            trait = dueling_expert
                            trait = dueling_master
                            trait = dueling_legend
                            martial = 14
                            trait = strong
                            trait = brave
                            trait = tall
                            trait = quick
                            trait = genius
                        }
                        opinion = { who = ROOT value =  50 }
                    }
                }
                NOT = { has_character_flag = roseguard_1 }
                NOT = { has_character_flag = roseguard_2 }
            }
            set_character_flag = roseguard_3
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this one    
        trigger = { any_realm_character = { has_character_flag = roseguard_1 } }    
        random_realm_character = {
            limit = { has_character_flag = roseguard_1 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one    
        trigger = { any_realm_character = { has_character_flag = roseguard_2 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_2 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one
        trigger = { any_realm_character = { has_character_flag = roseguard_3 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_3 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTDroseguard.0002" #No one 
        trigger = { ai = no }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
}

##Important Family##
character_event = {
    id = roseguard.0004
    desc = "EVTDESCroseguard.0004"
    
    is_triggered_only = yes

    immediate = {
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 14
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    #opinion = { who = ROOT value = 0 }
                    tier = duke
                    num_of_children = 2
                }
            }
            set_character_flag = roseguard_1
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 14
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    #opinion = { who = ROOT value = 0 }
                    tier = duke
                    num_of_children = 2
                }
                NOT = { has_character_flag = roseguard_1 }
            }
            set_character_flag = roseguard_2
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 14
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    #opinion = { who = ROOT value = 0 }
                    tier = duke
                    num_of_children = 2
                }
                NOT = { has_character_flag = roseguard_1 }
                NOT = { has_character_flag = roseguard_2 }
            }
            set_character_flag = roseguard_3
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this one    
        trigger = { any_realm_character = { has_character_flag = roseguard_1 } }    
        random_realm_character = {
            limit = { has_character_flag = roseguard_1 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one    
        trigger = { any_realm_character = { has_character_flag = roseguard_2 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_2 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one
        trigger = { any_realm_character = { has_character_flag = roseguard_3 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_3 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTDroseguard.0002" #No one 
        trigger = { ai = no }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
}

##King Family##
character_event = {
    id = roseguard.0006
    desc = "EVTDESCroseguard.0006"
    
    is_triggered_only = yes

    immediate = {
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 10
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    tier = king
                    num_of_children = 2
                }
            }
            set_character_flag = roseguard_1
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 10
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    tier = king
                    num_of_children = 2
                }
                NOT = { has_character_flag = roseguard_1 }
            }
            set_character_flag = roseguard_2
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                OR = {
                    martial = 10
                    trait = strong
                    trait = brave
                    trait = tall
                    trait = quick
                    trait = genius
                }    
                father = {
                    war = no
                    is_alive = yes
                    is_ruler = yes
                    tier = king
                    num_of_children = 2
                }
                NOT = { has_character_flag = roseguard_1 }
                NOT = { has_character_flag = roseguard_2 }
            }
            set_character_flag = roseguard_3
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this one    
        trigger = { any_realm_character = { has_character_flag = roseguard_1 } }    
        random_realm_character = {
            limit = { has_character_flag = roseguard_1 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one    
        trigger = { any_realm_character = { has_character_flag = roseguard_2 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_2 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one
        trigger = { any_realm_character = { has_character_flag = roseguard_3 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_3 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTDroseguard.0002" #No one 
        trigger = { ai = no }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
}
##Anyone###
character_event = {
    id = roseguard.0057
    desc = "EVTDESCroseguard.0057"
    
    is_triggered_only = yes

    immediate = {
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
            }
            set_character_flag = roseguard_1
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                NOT = { has_character_flag = roseguard_1 }
            }
            set_character_flag = roseguard_2
        }
        random_realm_character = {
            limit = {
                NOT = { character = ROOT }
				NOT = { is_rival = ROOT }
				NOT = { has_character_flag = refused_roseguard }    
				is_ruler = no
				prisoner = no
				is_female = no
				is_married = no
				age = 16
				
                OR = {
                    trait = dueling_skilled
                    trait = dueling_expert
                    trait = dueling_master
                    trait = dueling_legend
                }
                NOT = { has_character_flag = roseguard_1 }
                NOT = { has_character_flag = roseguard_2 }
            }
            set_character_flag = roseguard_3
        }
    }
    
    option = {
        name = "EVTOPTA7770002" #this_one        
        trigger = { any_realm_character = { has_character_flag = roseguard_1 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_1 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one        
        trigger = { any_realm_character = { has_character_flag = roseguard_2 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_2 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTAroseguard.0002" #this_one
        trigger = { any_realm_character = { has_character_flag = roseguard_3 } }
        random_realm_character = {
            limit = { has_character_flag = roseguard_3 }        
            if = {
                limit = { 
                    is_primary_heir = yes 
                    father = { NOT = { character = ROOT } }
                }
                character_event = { id = roseguard.0046 } #annoy_parent
            }
            if = {
                limit = { 
                    OR = {
                        is_primary_heir = no 
                        father = { character = ROOT }
                    }    
                }
                character_event = { id = roseguard.0005 }
            }                
        }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
    
    option = {
        name = "EVTOPTDroseguard.0002" #None
        trigger = { ai = no }
        hidden_tooltip = {
            any_realm_character = {
                clr_character_flag = roseguard_1
                clr_character_flag = roseguard_2
                clr_character_flag = roseguard_3
            }
        }
    }
}